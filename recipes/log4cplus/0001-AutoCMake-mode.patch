From 2e0a7a89aaa585646980313b5bcb2cdb2aa9139a Mon Sep 17 00:00:00 2001
From: Mingyi <mingyi.z@outlook.com>
Date: Fri, 5 May 2017 12:00:37 +0800
Subject: [PATCH] AutoCMake mode

---
 CMakeLists.txt      |  6 ++++++
 log4cplus.pc.cmakin | 13 +++++++++++++
 2 files changed, 19 insertions(+)
 create mode 100644 log4cplus.pc.cmakin

diff --git a/CMakeLists.txt b/CMakeLists.txt
index e4709ab..4c76f14 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -115,6 +115,12 @@ file(WRITE ${DEFINES_HXX_CMAKE} ${FILE_BUFFER})
 
 configure_file(${DEFINES_HXX_CMAKE} ${DEFINES_HXX} @ONLY)
 
+set(VERSION ${PROJECT_VERSION} )
+set(prefix ${CMAKE_INSTALL_PREFIX})
+configure_file(log4cplus.pc.cmakin ${log4cplus_BINARY_DIR}/log4cplus.pc @ONLY)
+install( FILES ${log4cplus_BINARY_DIR}/log4cplus.pc 
+         DESTINATION ${CMAKE_INSTALL_LIBDIR}/pkgconfig/log4cplus.pc )
+
 include_directories (${log4cplus_SOURCE_DIR}/include
                      ${log4cplus_BINARY_DIR}/include
                     )
diff --git a/log4cplus.pc.cmakin b/log4cplus.pc.cmakin
new file mode 100644
index 0000000..a57a63d
--- /dev/null
+++ b/log4cplus.pc.cmakin
@@ -0,0 +1,13 @@
+prefix=@prefix@
+exec_prefix=@prefix@/bin
+libdir=@prefix@/lib
+includedir=@prefix@/include
+modules=
+
+Name: log4cplus
+Version: @VERSION@
+Description: Simple to use, thread-safe C++ logging API
+Requires:
+Libs: -L${libdir} -llog4cplus
+Libs.private: @LIBS@
+Cflags: -I${includedir}
-- 
2.12.2.windows.1

